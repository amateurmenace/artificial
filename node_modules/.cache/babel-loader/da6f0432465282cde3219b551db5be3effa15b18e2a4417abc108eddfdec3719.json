{"ast":null,"code":"var _jsxFileName = \"/Users/amateurmenace/Downloads/artificial-v4 4/src/MemeMachine.js\",\n  _s = $RefreshSig$();\n// MEME MACHINE - Game Component\nimport React, { useState } from 'react';\nimport { Card, Button, Timer, PlayerList, Input, ImageUploader, ReactionBar, Badge, Alert, ScoreBar } from './components';\nimport { updateGamePhase, submitToGame, addReaction, uploadImage } from './firebase';\nimport { critiqueMeme, generateCaptionOptions, suggestImageEdits, generateImage, hasApiKey } from './ai-services';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MemeMachine = ({\n  gameCode,\n  room,\n  userId,\n  isHost,\n  onBack,\n  onOpenDashboard\n}) => {\n  _s();\n  const [selectedIssue, setSelectedIssue] = useState('');\n  const [customIssue, setCustomIssue] = useState('');\n  const [memeImageUrl, setMemeImageUrl] = useState('');\n  const [memeCaption, setMemeCaption] = useState('');\n  const [captionOptions, setCaptionOptions] = useState([]);\n  const [critique, setCritique] = useState(null);\n  const [editSuggestions, setEditSuggestions] = useState(null);\n  const [editedCaption, setEditedCaption] = useState('');\n  const [editedImageUrl, setEditedImageUrl] = useState('');\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [generatingCaptions, setGeneratingCaptions] = useState(false);\n  const [generatingImage, setGeneratingImage] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const communityIssues = [{\n    id: 'transit',\n    name: 'Public Transit',\n    icon: 'ðŸšŒ',\n    description: 'Buses, trains, bike lanes'\n  }, {\n    id: 'parks',\n    name: 'Parks & Green Space',\n    icon: 'ðŸŒ³',\n    description: 'Public parks, playgrounds'\n  }, {\n    id: 'housing',\n    name: 'Affordable Housing',\n    icon: 'ðŸ ',\n    description: 'Rent, home ownership'\n  }, {\n    id: 'safety',\n    name: 'Public Safety',\n    icon: 'ðŸš¸',\n    description: 'Traffic calming, crosswalks'\n  }, {\n    id: 'education',\n    name: 'Local Schools',\n    icon: 'ðŸ“š',\n    description: 'Funding, resources'\n  }, {\n    id: 'environment',\n    name: 'Environment',\n    icon: 'â™»ï¸',\n    description: 'Recycling, climate action'\n  }, {\n    id: 'business',\n    name: 'Local Business',\n    icon: 'ðŸª',\n    description: 'Small businesses'\n  }, {\n    id: 'health',\n    name: 'Public Health',\n    icon: 'ðŸ¥',\n    description: 'Healthcare access'\n  }];\n  const reactionMultipliers = {\n    funny: 1.2,\n    love: 1.5,\n    wow: 1.3,\n    angry: 0.8,\n    share: 2.0\n  };\n  const calculateViralScore = reactions => {\n    let score = 0;\n    Object.entries(reactions || {}).forEach(([type, count]) => {\n      score += count * (reactionMultipliers[type] || 1) * 100;\n    });\n    return Math.round(score);\n  };\n  const getCurrentIssue = () => {\n    var _communityIssues$find;\n    if (selectedIssue === 'custom') return customIssue;\n    return ((_communityIssues$find = communityIssues.find(i => i.id === selectedIssue)) === null || _communityIssues$find === void 0 ? void 0 : _communityIssues$find.name) || '';\n  };\n  const handleGenerateCaptions = async () => {\n    if (!getCurrentIssue()) return;\n    setGeneratingCaptions(true);\n    try {\n      const options = await generateCaptionOptions(getCurrentIssue());\n      setCaptionOptions(options);\n    } catch (error) {\n      alert('Failed to generate captions: ' + error.message);\n    } finally {\n      setGeneratingCaptions(false);\n    }\n  };\n  const handleGenerateImage = async (prompt, isEdit = false) => {\n    setGeneratingImage(true);\n    try {\n      const result = await generateImage(prompt || `Create a visually engaging meme image about ${getCurrentIssue()}. No text in image.`);\n      if (isEdit) {\n        setEditedImageUrl(result.url);\n      } else {\n        setMemeImageUrl(result.url);\n      }\n    } catch (error) {\n      alert('Failed to generate image: ' + error.message);\n    } finally {\n      setGeneratingImage(false);\n    }\n  };\n  const handleUploadImage = async file => {\n    setUploading(true);\n    try {\n      const url = await uploadImage(file, gameCode, userId);\n      setMemeImageUrl(url);\n    } catch (error) {\n      alert('Failed to upload: ' + error.message);\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleGetCritique = async () => {\n    setAnalyzing(true);\n    try {\n      const result = await critiqueMeme('Image about ' + getCurrentIssue(), memeCaption, getCurrentIssue());\n      setCritique(result);\n      setEditedCaption(result.revisedCaption || memeCaption);\n    } catch (error) {\n      alert('Failed to get critique: ' + error.message);\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  const handleGetEditSuggestions = async () => {\n    if (!critique) return;\n    setAnalyzing(true);\n    try {\n      const suggestions = await suggestImageEdits('Meme image about ' + getCurrentIssue(), critique, getCurrentIssue());\n      setEditSuggestions(suggestions);\n    } catch (error) {\n      alert('Failed to get suggestions: ' + error.message);\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  const handleSubmitMeme = async () => {\n    var _room$players, _room$players$find, _critique$scores;\n    const finalCaption = editedCaption || memeCaption;\n    const finalImage = editedImageUrl || memeImageUrl;\n    if (!finalImage || !finalCaption) return;\n    await submitToGame(gameCode, {\n      type: 'meme',\n      imageUrl: finalImage,\n      caption: finalCaption,\n      issue: getCurrentIssue(),\n      playerName: (room === null || room === void 0 ? void 0 : (_room$players = room.players) === null || _room$players === void 0 ? void 0 : (_room$players$find = _room$players.find(p => p.id === userId)) === null || _room$players$find === void 0 ? void 0 : _room$players$find.name) || 'Unknown',\n      critiqueScore: (critique === null || critique === void 0 ? void 0 : (_critique$scores = critique.scores) === null || _critique$scores === void 0 ? void 0 : _critique$scores.overall) || 0,\n      wasEdited: !!editedCaption || !!editedImageUrl\n    });\n    setIsSubmitted(true);\n  };\n  const handleReaction = async (submissionId, reactionType) => {\n    await addReaction(gameCode, submissionId, reactionType);\n  };\n  const renderPhase = () => {\n    var _room$players2, _room$players2$find, _critique$scores2, _critique$scores3, _critique$scores4, _critique$scores5, _critique$scores6, _critique$scores7, _room$submissions, _room$submissions2, _room$reactions4;\n    switch (room === null || room === void 0 ? void 0 : room.phase) {\n      case 'lobby':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-6xl mb-4\",\n              children: \"\\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-[#3d5a4c] mb-2\",\n              children: \"Meme Machine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#6b7c74] mb-6\",\n              children: \"Create viral advocacy memes for community issues using AI tools!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-[#f5f3ef] rounded-xl p-4 mb-6 text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-[#3d5a4c] mb-2\",\n                children: \"The Process:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                className: \"space-y-1 text-sm text-[#6b7c74] list-decimal list-inside\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Choose a community issue you care about\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Craft your message and create an image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Get AI feedback on effectiveness\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Iterate and improve your meme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Watch it \\\"go viral\\\" in simulation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Vote on the most impactful memes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PlayerList, {\n              players: room === null || room === void 0 ? void 0 : room.players,\n              currentUserId: userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), isHost && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => updateGamePhase(gameCode, 'issue'),\n              size: \"lg\",\n              children: \"Start Game \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: onOpenDashboard,\n              children: \"\\uD83D\\uDCCA Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this);\n      case 'issue':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-[#3d5a4c] mb-4\",\n              children: \"Choose Your Cause\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#6b7c74] mb-6\",\n              children: \"What community issue do you want to advocate for?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3 mb-6\",\n              children: communityIssues.map(issue => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedIssue(issue.id),\n                className: `p-4 rounded-xl border-2 text-left transition-all ${selectedIssue === issue.id ? 'border-[#48a89a] bg-[#48a89a]/10' : 'border-[#e2e0dc] hover:border-[#48a89a]/50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl\",\n                  children: issue.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-[#3d5a4c] mt-2\",\n                  children: issue.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-[#6b7c74]\",\n                  children: issue.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this)]\n              }, issue.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-[#6b7c74] mb-4\",\n              children: \"\\u2014 or create your own \\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Enter a community issue...\",\n              value: customIssue,\n              onChange: val => {\n                setCustomIssue(val);\n                setSelectedIssue('custom');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), isHost && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => updateGamePhase(gameCode, 'tutorial'),\n            disabled: !selectedIssue,\n            size: \"lg\",\n            children: \"Continue \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this);\n      case 'tutorial':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-[#3d5a4c] mb-4\",\n              children: \"\\uD83D\\uDCDA Meme-Making 101\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-[#f5f3ef] rounded-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-[#3d5a4c] mb-2\",\n                  children: \"What Makes a Great Advocacy Meme?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2 text-sm text-[#6b7c74]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Clear message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 27\n                    }, this), \" - People should \\\"get it\\\" in 3 seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Emotional hook\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 27\n                    }, this), \" - Make people feel something\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Shareability\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 27\n                    }, this), \" - Would someone want to share this?\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Visual impact\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 27\n                    }, this), \" - Eye-catching and memorable\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Call to action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 27\n                    }, this), \" - What should people do?\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-[#48a89a]/10 rounded-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-[#3d5a4c] mb-2\",\n                  children: \"\\u26A0\\uFE0F Things to Avoid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2 text-sm text-[#6b7c74]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u274C Misinformation or misleading claims\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u274C Attacking individuals rather than issues\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u274C Text that's too small or hard to read\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u274C Overly complicated messages\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), isHost && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => updateGamePhase(gameCode, 'caption'),\n            size: \"lg\",\n            children: \"Start Creating \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this);\n      case 'caption':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-bold text-[#3d5a4c]\",\n              children: \"Step 1: Craft Your Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Timer, {\n              seconds: 600,\n              paused: room === null || room === void 0 ? void 0 : room.isPaused,\n              extension: room === null || room === void 0 ? void 0 : room.timerExtension\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-[#f5f3ef] rounded-lg p-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[#6b7c74]\",\n                children: \"Your issue: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-[#3d5a4c]\",\n                children: getCurrentIssue()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Write your caption\",\n              placeholder: \"Enter your meme caption... #hashtags\",\n              value: memeCaption,\n              onChange: setMemeCaption,\n              multiline: true,\n              hint: \"Keep it short, punchy, and shareable!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleGenerateCaptions,\n                loading: generatingCaptions,\n                variant: \"secondary\",\n                disabled: !hasApiKey(),\n                children: \"\\u2728 Get AI Caption Ideas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), !hasApiKey() && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-[#6b7c74] mt-2\",\n                children: \"Set your API key to use AI features\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), captionOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium text-[#3d5a4c]\",\n                children: \"AI Suggestions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this), captionOptions.map((option, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMemeCaption(option.caption),\n                className: `w-full p-3 rounded-lg border text-left transition-all ${memeCaption === option.caption ? 'border-[#48a89a] bg-[#48a89a]/10' : 'border-[#e2e0dc] hover:border-[#48a89a]'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-[#48a89a] font-medium\",\n                  children: option.style\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[#3d5a4c]\",\n                  children: option.caption\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => updateGamePhase(gameCode, 'image'),\n            disabled: !memeCaption,\n            size: \"lg\",\n            children: \"Next: Create Image \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-bold text-[#3d5a4c]\",\n              children: \"Step 2: Create Your Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Timer, {\n              seconds: 600,\n              paused: room === null || room === void 0 ? void 0 : room.isPaused,\n              extension: room === null || room === void 0 ? void 0 : room.timerExtension\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-[#f5f3ef] rounded-lg p-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[#6b7c74]\",\n                children: \"Your caption: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-[#3d5a4c]\",\n                children: [\"\\\"\", memeCaption, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), memeImageUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: memeImageUrl,\n                alt: \"Your meme\",\n                className: \"w-full rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"ghost\",\n                onClick: () => setMemeImageUrl(''),\n                children: \"Try Different Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-[#3d5a4c]\",\n                  children: \"\\uD83E\\uDD16 Generate with AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => handleGenerateImage(),\n                  loading: generatingImage,\n                  disabled: !hasApiKey(),\n                  className: \"w-full\",\n                  children: \"Generate Meme Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-[#3d5a4c]\",\n                  children: \"\\uD83D\\uDCE4 Upload Your Own\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ImageUploader, {\n                  onUpload: handleUploadImage,\n                  uploading: uploading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              onClick: () => updateGamePhase(gameCode, 'caption'),\n              children: \"\\u2190 Back to Caption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => updateGamePhase(gameCode, 'preview'),\n              disabled: !memeImageUrl,\n              size: \"lg\",\n              children: \"Preview Meme \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this);\n      case 'preview':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-[#3d5a4c]\",\n            children: \"Step 3: Preview Your Meme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-gradient-to-br from-[#3d5a4c] to-[#48a89a] text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: memeImageUrl,\n                alt: \"Meme\",\n                className: \"w-full rounded-lg mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-bold text-[#3d5a4c]\",\n                children: memeCaption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mt-4 text-white/80\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"@\", room === null || room === void 0 ? void 0 : (_room$players2 = room.players) === null || _room$players2 === void 0 ? void 0 : (_room$players2$find = _room$players2.find(p => p.id === userId)) === null || _room$players2$find === void 0 ? void 0 : _room$players2$find.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"#\", getCurrentIssue().replace(/\\s+/g, '')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            type: \"info\",\n            children: \"Ready to see how effective your meme is? Get AI feedback on your creation!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              onClick: () => updateGamePhase(gameCode, 'image'),\n              children: \"\\u2190 Edit Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                handleGetCritique();\n                updateGamePhase(gameCode, 'critique');\n              },\n              size: \"lg\",\n              children: \"Get AI Critique \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this);\n      case 'critique':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-[#3d5a4c]\",\n            children: \"Step 4: AI Critique\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), analyzing ? /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-4xl animate-pulse mb-4\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#6b7c74]\",\n              children: \"AI is analyzing your meme...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this) : critique ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-[#3d5a4c] mb-4\",\n                children: \"\\uD83D\\uDCCA Effectiveness Scores\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ScoreBar, {\n                scores: {\n                  'Message Clarity': ((_critique$scores2 = critique.scores) === null || _critique$scores2 === void 0 ? void 0 : _critique$scores2.messageEffectiveness) || 7,\n                  'Emotional Impact': ((_critique$scores3 = critique.scores) === null || _critique$scores3 === void 0 ? void 0 : _critique$scores3.emotionalImpact) || 7,\n                  'Shareability': ((_critique$scores4 = critique.scores) === null || _critique$scores4 === void 0 ? void 0 : _critique$scores4.shareability) || 7,\n                  'Visual Quality': ((_critique$scores5 = critique.scores) === null || _critique$scores5 === void 0 ? void 0 : _critique$scores5.technicalQuality) || 7,\n                  'Accessibility': ((_critique$scores6 = critique.scores) === null || _critique$scores6 === void 0 ? void 0 : _critique$scores6.accessibility) || 7\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-3xl font-bold text-[#48a89a]\",\n                  children: [((_critique$scores7 = critique.scores) === null || _critique$scores7 === void 0 ? void 0 : _critique$scores7.overall) || 7, \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-[#6b7c74] ml-2\",\n                  children: \"Overall Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"bg-green-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-green-800 mb-2\",\n                  children: \"\\uD83D\\uDCAA Strengths\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 text-sm text-green-700\",\n                  children: (critique.strengths || []).map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2713 \", s]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                className: \"bg-yellow-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-yellow-800 mb-2\",\n                  children: \"\\uD83D\\uDD27 Improvements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 text-sm text-yellow-700\",\n                  children: (critique.improvements || []).map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2022 \", s]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), critique.revisedCaption && critique.revisedCaption !== memeCaption && /*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-[#3d5a4c] mb-2\",\n                children: \"\\uD83D\\uDCA1 Suggested Caption\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-[#6b7c74] italic mb-3\",\n                children: [\"\\\"\", critique.revisedCaption, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                size: \"sm\",\n                onClick: () => setEditedCaption(critique.revisedCaption),\n                children: \"Use This Caption\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center py-12\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleGetCritique,\n              loading: analyzing,\n              children: \"Get AI Critique\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              onClick: () => updateGamePhase(gameCode, 'preview'),\n              children: \"\\u2190 Back to Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                handleGetEditSuggestions();\n                updateGamePhase(gameCode, 'edit');\n              },\n              size: \"lg\",\n              disabled: !critique,\n              children: \"Edit & Improve \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this);\n      case 'edit':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-[#3d5a4c]\",\n            children: \"Step 5: Edit & Improve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-[#3d5a4c] mb-4\",\n              children: \"\\u270F\\uFE0F Revise Your Caption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: editedCaption || memeCaption,\n              onChange: setEditedCaption,\n              multiline: true,\n              placeholder: \"Edit your caption...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), editSuggestions && /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-[#3d5a4c] mb-4\",\n              children: \"\\uD83C\\uDFA8 Image Suggestions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: (editSuggestions.edits || []).map((edit, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-[#f5f3ef] rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-medium text-[#48a89a]\",\n                  children: edit.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-[#6b7c74]\",\n                  children: edit.suggestion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this), editSuggestions.alternativeImagePrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => handleGenerateImage(editSuggestions.alternativeImagePrompt, true),\n                loading: generatingImage,\n                variant: \"secondary\",\n                children: \"\\uD83E\\uDD16 Generate Improved Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), editedImageUrl && /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-[#3d5a4c] mb-2\",\n              children: \"New Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: editedImageUrl,\n              alt: \"Edited meme\",\n              className: \"w-full rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              onClick: () => updateGamePhase(gameCode, 'critique'),\n              children: \"\\u2190 Back to Critique\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => updateGamePhase(gameCode, 'finalize'),\n              size: \"lg\",\n              children: \"Finalize Meme \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this);\n      case 'finalize':\n        const finalCaption = editedCaption || memeCaption;\n        const finalImage = editedImageUrl || memeImageUrl;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-[#3d5a4c]\",\n            children: \"Step 6: Final Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-gradient-to-br from-[#3d5a4c] to-[#48a89a]\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: finalImage,\n                alt: \"Final meme\",\n                className: \"w-full rounded-lg mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-bold text-[#3d5a4c]\",\n                children: finalCaption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this), !isSubmitted ? /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubmitMeme,\n            size: \"lg\",\n            className: \"w-full\",\n            children: \"\\uD83D\\uDE80 Post Meme!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            type: \"success\",\n            children: \"\\u2713 Your meme has been submitted! Waiting for others to finish...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), isHost && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => updateGamePhase(gameCode, 'viral'),\n            variant: \"secondary\",\n            className: \"w-full\",\n            children: \"Start Viral Simulation \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this);\n      case 'viral':\n        const submissions = (room === null || room === void 0 ? void 0 : (_room$submissions = room.submissions) === null || _room$submissions === void 0 ? void 0 : _room$submissions.filter(s => s.type === 'meme')) || [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-[#3d5a4c] mb-4\",\n              children: \"\\uD83D\\uDCCA Watch Them Go Viral!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#6b7c74] mb-4\",\n              children: \"React to memes to help them spread. Shares (\\uD83D\\uDD04) have the biggest impact!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: submissions.map((sub, i) => {\n                var _room$reactions, _sub$issue;\n                const memeReactions = (room === null || room === void 0 ? void 0 : (_room$reactions = room.reactions) === null || _room$reactions === void 0 ? void 0 : _room$reactions[sub.oderId]) || {};\n                const viralScore = calculateViralScore(memeReactions);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border border-[#e2e0dc] rounded-xl overflow-hidden\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-[#f5f3ef] p-3 flex justify-between items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-[#3d5a4c]\",\n                        children: [\"@\", sub.playerName]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 641,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-[#6b7c74] ml-2\",\n                        children: [\"#\", (_sub$issue = sub.issue) === null || _sub$issue === void 0 ? void 0 : _sub$issue.replace(/\\s+/g, '')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 640,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-2xl font-bold text-[#48a89a]\",\n                        children: viralScore.toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-[#6b7c74]\",\n                        children: \"viral score\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 646,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: sub.imageUrl,\n                      alt: \"\",\n                      className: \"w-full rounded-lg mb-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-[#3d5a4c]\",\n                      children: sub.caption\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 652,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 border-t border-[#e2e0dc]\",\n                    children: /*#__PURE__*/_jsxDEV(ReactionBar, {\n                      reactions: memeReactions,\n                      onReact: type => handleReaction(sub.oderId, type)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"px-4 pb-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"h-3 bg-[#e2e0dc] rounded-full overflow-hidden\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"h-full bg-gradient-to-r from-[#48a89a] to-[#3d5a4c] transition-all duration-500\",\n                        style: {\n                          width: `${Math.min(100, viralScore / 50)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 664,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 663,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 662,\n                    columnNumber: 23\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 13\n          }, this), isHost && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => updateGamePhase(gameCode, 'results'),\n            size: \"lg\",\n            children: \"Show Results \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this);\n      case 'results':\n        const allMemes = (room === null || room === void 0 ? void 0 : (_room$submissions2 = room.submissions) === null || _room$submissions2 === void 0 ? void 0 : _room$submissions2.filter(s => s.type === 'meme')) || [];\n        const sortedMemes = [...allMemes].sort((a, b) => {\n          var _room$reactions2, _room$reactions3;\n          const scoreA = calculateViralScore((room === null || room === void 0 ? void 0 : (_room$reactions2 = room.reactions) === null || _room$reactions2 === void 0 ? void 0 : _room$reactions2[a.oderId]) || {});\n          const scoreB = calculateViralScore((room === null || room === void 0 ? void 0 : (_room$reactions3 = room.reactions) === null || _room$reactions3 === void 0 ? void 0 : _room$reactions3[b.oderId]) || {});\n          return scoreB - scoreA;\n        });\n        const winner = sortedMemes[0];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-[#3d5a4c]\",\n            children: \"\\uD83C\\uDFC6 Most Viral Meme!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this), winner && /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-[#d4a84b] to-[#c49a3a] rounded-lg p-1 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: winner.imageUrl,\n                alt: \"\",\n                className: \"w-full rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-[#3d5a4c] text-lg\",\n              children: winner.caption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#6b7c74]\",\n              children: [\"by \", winner.playerName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl font-bold text-[#48a89a] mt-4\",\n              children: [calculateViralScore((room === null || room === void 0 ? void 0 : (_room$reactions4 = room.reactions) === null || _room$reactions4 === void 0 ? void 0 : _room$reactions4[winner.oderId]) || {}).toLocaleString(), \" viral score\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            game: \"memeMachine\",\n            playerName: (winner === null || winner === void 0 ? void 0 : winner.playerName) || 'Winner',\n            onExport: () => alert('Badge exported!')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-[#3d5a4c] mb-3\",\n              children: \"All Submissions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: sortedMemes.map((meme, i) => {\n                var _room$reactions5;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex justify-between p-3 rounded-lg ${i === 0 ? 'bg-[#d4a84b]/20' : 'bg-[#f5f3ef]'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [i === 0 && 'ðŸ¥‡ ', meme.playerName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold\",\n                    children: calculateViralScore((room === null || room === void 0 ? void 0 : (_room$reactions5 = room.reactions) === null || _room$reactions5 === void 0 ? void 0 : _room$reactions5[meme.oderId]) || {}).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 21\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 720,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onBack,\n            variant: \"secondary\",\n            size: \"lg\",\n            children: \"Back to Games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Unknown phase: \", room === null || room === void 0 ? void 0 : room.phase]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-[#f5f3ef] p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          className: \"text-[#6b7c74] hover:text-[#3d5a4c]\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [isHost && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            onClick: onOpenDashboard,\n            children: \"\\uD83D\\uDCCA Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-[#6b7c74]\",\n            children: [\"Code: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-mono font-bold text-[#3d5a4c]\",\n              children: gameCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this), renderPhase()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 740,\n    columnNumber: 5\n  }, this);\n};\n_s(MemeMachine, \"qlhWVsG7KIbP98Nurw3peYc3QSk=\");\n_c = MemeMachine;\nexport default MemeMachine;\nvar _c;\n$RefreshReg$(_c, \"MemeMachine\");","map":{"version":3,"names":["React","useState","Card","Button","Timer","PlayerList","Input","ImageUploader","ReactionBar","Badge","Alert","ScoreBar","updateGamePhase","submitToGame","addReaction","uploadImage","critiqueMeme","generateCaptionOptions","suggestImageEdits","generateImage","hasApiKey","jsxDEV","_jsxDEV","Fragment","_Fragment","MemeMachine","gameCode","room","userId","isHost","onBack","onOpenDashboard","_s","selectedIssue","setSelectedIssue","customIssue","setCustomIssue","memeImageUrl","setMemeImageUrl","memeCaption","setMemeCaption","captionOptions","setCaptionOptions","critique","setCritique","editSuggestions","setEditSuggestions","editedCaption","setEditedCaption","editedImageUrl","setEditedImageUrl","isSubmitted","setIsSubmitted","generatingCaptions","setGeneratingCaptions","generatingImage","setGeneratingImage","analyzing","setAnalyzing","uploading","setUploading","communityIssues","id","name","icon","description","reactionMultipliers","funny","love","wow","angry","share","calculateViralScore","reactions","score","Object","entries","forEach","type","count","Math","round","getCurrentIssue","_communityIssues$find","find","i","handleGenerateCaptions","options","error","alert","message","handleGenerateImage","prompt","isEdit","result","url","handleUploadImage","file","handleGetCritique","revisedCaption","handleGetEditSuggestions","suggestions","handleSubmitMeme","_room$players","_room$players$find","_critique$scores","finalCaption","finalImage","imageUrl","caption","issue","playerName","players","p","critiqueScore","scores","overall","wasEdited","handleReaction","submissionId","reactionType","renderPhase","_room$players2","_room$players2$find","_critique$scores2","_critique$scores3","_critique$scores4","_critique$scores5","_critique$scores6","_critique$scores7","_room$submissions","_room$submissions2","_room$reactions4","phase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentUserId","onClick","size","variant","map","placeholder","value","onChange","val","disabled","seconds","paused","isPaused","extension","timerExtension","label","multiline","hint","loading","length","option","style","src","alt","onUpload","replace","messageEffectiveness","emotionalImpact","shareability","technicalQuality","accessibility","strengths","s","improvements","edits","edit","suggestion","alternativeImagePrompt","submissions","filter","sub","_room$reactions","_sub$issue","memeReactions","oderId","viralScore","toLocaleString","onReact","width","min","allMemes","sortedMemes","sort","a","b","_room$reactions2","_room$reactions3","scoreA","scoreB","winner","game","onExport","meme","_room$reactions5","_c","$RefreshReg$"],"sources":["/Users/amateurmenace/Downloads/artificial-v4 4/src/MemeMachine.js"],"sourcesContent":["// MEME MACHINE - Game Component\nimport React, { useState } from 'react';\nimport { Card, Button, Timer, PlayerList, Input, ImageUploader, ReactionBar, Badge, Alert, ScoreBar } from './components';\nimport { updateGamePhase, submitToGame, addReaction, uploadImage } from './firebase';\nimport { critiqueMeme, generateCaptionOptions, suggestImageEdits, generateImage, hasApiKey } from './ai-services';\n\nconst MemeMachine = ({ gameCode, room, userId, isHost, onBack, onOpenDashboard }) => {\n  const [selectedIssue, setSelectedIssue] = useState('');\n  const [customIssue, setCustomIssue] = useState('');\n  const [memeImageUrl, setMemeImageUrl] = useState('');\n  const [memeCaption, setMemeCaption] = useState('');\n  const [captionOptions, setCaptionOptions] = useState([]);\n  const [critique, setCritique] = useState(null);\n  const [editSuggestions, setEditSuggestions] = useState(null);\n  const [editedCaption, setEditedCaption] = useState('');\n  const [editedImageUrl, setEditedImageUrl] = useState('');\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  \n  const [generatingCaptions, setGeneratingCaptions] = useState(false);\n  const [generatingImage, setGeneratingImage] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  \n  const communityIssues = [\n    { id: 'transit', name: 'Public Transit', icon: 'ðŸšŒ', description: 'Buses, trains, bike lanes' },\n    { id: 'parks', name: 'Parks & Green Space', icon: 'ðŸŒ³', description: 'Public parks, playgrounds' },\n    { id: 'housing', name: 'Affordable Housing', icon: 'ðŸ ', description: 'Rent, home ownership' },\n    { id: 'safety', name: 'Public Safety', icon: 'ðŸš¸', description: 'Traffic calming, crosswalks' },\n    { id: 'education', name: 'Local Schools', icon: 'ðŸ“š', description: 'Funding, resources' },\n    { id: 'environment', name: 'Environment', icon: 'â™»ï¸', description: 'Recycling, climate action' },\n    { id: 'business', name: 'Local Business', icon: 'ðŸª', description: 'Small businesses' },\n    { id: 'health', name: 'Public Health', icon: 'ðŸ¥', description: 'Healthcare access' },\n  ];\n  \n  const reactionMultipliers = {\n    funny: 1.2,\n    love: 1.5,\n    wow: 1.3,\n    angry: 0.8,\n    share: 2.0,\n  };\n  \n  const calculateViralScore = (reactions) => {\n    let score = 0;\n    Object.entries(reactions || {}).forEach(([type, count]) => {\n      score += count * (reactionMultipliers[type] || 1) * 100;\n    });\n    return Math.round(score);\n  };\n  \n  const getCurrentIssue = () => {\n    if (selectedIssue === 'custom') return customIssue;\n    return communityIssues.find(i => i.id === selectedIssue)?.name || '';\n  };\n  \n  const handleGenerateCaptions = async () => {\n    if (!getCurrentIssue()) return;\n    setGeneratingCaptions(true);\n    try {\n      const options = await generateCaptionOptions(getCurrentIssue());\n      setCaptionOptions(options);\n    } catch (error) {\n      alert('Failed to generate captions: ' + error.message);\n    } finally {\n      setGeneratingCaptions(false);\n    }\n  };\n  \n  const handleGenerateImage = async (prompt, isEdit = false) => {\n    setGeneratingImage(true);\n    try {\n      const result = await generateImage(prompt || `Create a visually engaging meme image about ${getCurrentIssue()}. No text in image.`);\n      if (isEdit) {\n        setEditedImageUrl(result.url);\n      } else {\n        setMemeImageUrl(result.url);\n      }\n    } catch (error) {\n      alert('Failed to generate image: ' + error.message);\n    } finally {\n      setGeneratingImage(false);\n    }\n  };\n  \n  const handleUploadImage = async (file) => {\n    setUploading(true);\n    try {\n      const url = await uploadImage(file, gameCode, userId);\n      setMemeImageUrl(url);\n    } catch (error) {\n      alert('Failed to upload: ' + error.message);\n    } finally {\n      setUploading(false);\n    }\n  };\n  \n  const handleGetCritique = async () => {\n    setAnalyzing(true);\n    try {\n      const result = await critiqueMeme(\n        'Image about ' + getCurrentIssue(),\n        memeCaption,\n        getCurrentIssue()\n      );\n      setCritique(result);\n      setEditedCaption(result.revisedCaption || memeCaption);\n    } catch (error) {\n      alert('Failed to get critique: ' + error.message);\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  \n  const handleGetEditSuggestions = async () => {\n    if (!critique) return;\n    setAnalyzing(true);\n    try {\n      const suggestions = await suggestImageEdits(\n        'Meme image about ' + getCurrentIssue(),\n        critique,\n        getCurrentIssue()\n      );\n      setEditSuggestions(suggestions);\n    } catch (error) {\n      alert('Failed to get suggestions: ' + error.message);\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  \n  const handleSubmitMeme = async () => {\n    const finalCaption = editedCaption || memeCaption;\n    const finalImage = editedImageUrl || memeImageUrl;\n    \n    if (!finalImage || !finalCaption) return;\n    \n    await submitToGame(gameCode, {\n      type: 'meme',\n      imageUrl: finalImage,\n      caption: finalCaption,\n      issue: getCurrentIssue(),\n      playerName: room?.players?.find(p => p.id === userId)?.name || 'Unknown',\n      critiqueScore: critique?.scores?.overall || 0,\n      wasEdited: !!editedCaption || !!editedImageUrl,\n    });\n    \n    setIsSubmitted(true);\n  };\n  \n  const handleReaction = async (submissionId, reactionType) => {\n    await addReaction(gameCode, submissionId, reactionType);\n  };\n  \n  const renderPhase = () => {\n    switch (room?.phase) {\n      case 'lobby':\n        return (\n          <div className=\"space-y-6\">\n            <Card className=\"text-center\">\n              <div className=\"text-6xl mb-4\">ðŸš€</div>\n              <h2 className=\"text-2xl font-bold text-[#3d5a4c] mb-2\">Meme Machine</h2>\n              <p className=\"text-[#6b7c74] mb-6\">\n                Create viral advocacy memes for community issues using AI tools!\n              </p>\n              <div className=\"bg-[#f5f3ef] rounded-xl p-4 mb-6 text-left\">\n                <h3 className=\"font-semibold text-[#3d5a4c] mb-2\">The Process:</h3>\n                <ol className=\"space-y-1 text-sm text-[#6b7c74] list-decimal list-inside\">\n                  <li>Choose a community issue you care about</li>\n                  <li>Craft your message and create an image</li>\n                  <li>Get AI feedback on effectiveness</li>\n                  <li>Iterate and improve your meme</li>\n                  <li>Watch it \"go viral\" in simulation</li>\n                  <li>Vote on the most impactful memes</li>\n                </ol>\n              </div>\n              <PlayerList players={room?.players} currentUserId={userId} />\n            </Card>\n            \n            {isHost && (\n              <div className=\"flex gap-4 justify-center\">\n                <Button onClick={() => updateGamePhase(gameCode, 'issue')} size=\"lg\">\n                  Start Game â†’\n                </Button>\n                <Button variant=\"secondary\" onClick={onOpenDashboard}>\n                  ðŸ“Š Dashboard\n                </Button>\n              </div>\n            )}\n          </div>\n        );\n      \n      case 'issue':\n        return (\n          <div className=\"space-y-6\">\n            <Card>\n              <h2 className=\"text-xl font-bold text-[#3d5a4c] mb-4\">Choose Your Cause</h2>\n              <p className=\"text-[#6b7c74] mb-6\">\n                What community issue do you want to advocate for?\n              </p>\n              \n              <div className=\"grid grid-cols-2 gap-3 mb-6\">\n                {communityIssues.map(issue => (\n                  <button\n                    key={issue.id}\n                    onClick={() => setSelectedIssue(issue.id)}\n                    className={`p-4 rounded-xl border-2 text-left transition-all ${\n                      selectedIssue === issue.id \n                        ? 'border-[#48a89a] bg-[#48a89a]/10' \n                        : 'border-[#e2e0dc] hover:border-[#48a89a]/50'\n                    }`}\n                  >\n                    <span className=\"text-2xl\">{issue.icon}</span>\n                    <div className=\"font-medium text-[#3d5a4c] mt-2\">{issue.name}</div>\n                    <div className=\"text-xs text-[#6b7c74]\">{issue.description}</div>\n                  </button>\n                ))}\n              </div>\n              \n              <div className=\"text-center text-[#6b7c74] mb-4\">â€” or create your own â€”</div>\n              \n              <Input \n                placeholder=\"Enter a community issue...\"\n                value={customIssue}\n                onChange={(val) => { setCustomIssue(val); setSelectedIssue('custom'); }}\n              />\n            </Card>\n            \n            {isHost && (\n              <Button \n                onClick={() => updateGamePhase(gameCode, 'tutorial')} \n                disabled={!selectedIssue}\n                size=\"lg\"\n              >\n                Continue â†’\n              </Button>\n            )}\n          </div>\n        );\n      \n      case 'tutorial':\n        return (\n          <div className=\"space-y-6\">\n            <Card>\n              <h2 className=\"text-xl font-bold text-[#3d5a4c] mb-4\">ðŸ“š Meme-Making 101</h2>\n              \n              <div className=\"space-y-4\">\n                <div className=\"bg-[#f5f3ef] rounded-xl p-4\">\n                  <h3 className=\"font-semibold text-[#3d5a4c] mb-2\">What Makes a Great Advocacy Meme?</h3>\n                  <ul className=\"space-y-2 text-sm text-[#6b7c74]\">\n                    <li>âœ… <strong>Clear message</strong> - People should \"get it\" in 3 seconds</li>\n                    <li>âœ… <strong>Emotional hook</strong> - Make people feel something</li>\n                    <li>âœ… <strong>Shareability</strong> - Would someone want to share this?</li>\n                    <li>âœ… <strong>Visual impact</strong> - Eye-catching and memorable</li>\n                    <li>âœ… <strong>Call to action</strong> - What should people do?</li>\n                  </ul>\n                </div>\n                \n                <div className=\"bg-[#48a89a]/10 rounded-xl p-4\">\n                  <h3 className=\"font-semibold text-[#3d5a4c] mb-2\">âš ï¸ Things to Avoid</h3>\n                  <ul className=\"space-y-2 text-sm text-[#6b7c74]\">\n                    <li>âŒ Misinformation or misleading claims</li>\n                    <li>âŒ Attacking individuals rather than issues</li>\n                    <li>âŒ Text that's too small or hard to read</li>\n                    <li>âŒ Overly complicated messages</li>\n                  </ul>\n                </div>\n              </div>\n            </Card>\n            \n            {isHost && (\n              <Button onClick={() => updateGamePhase(gameCode, 'caption')} size=\"lg\">\n                Start Creating â†’\n              </Button>\n            )}\n          </div>\n        );\n      \n      case 'caption':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 1: Craft Your Message</h2>\n              <Timer seconds={600} paused={room?.isPaused} extension={room?.timerExtension} />\n            </div>\n            \n            <Card>\n              <div className=\"bg-[#f5f3ef] rounded-lg p-3 mb-4\">\n                <span className=\"text-[#6b7c74]\">Your issue: </span>\n                <span className=\"font-semibold text-[#3d5a4c]\">{getCurrentIssue()}</span>\n              </div>\n              \n              <Input \n                label=\"Write your caption\"\n                placeholder=\"Enter your meme caption... #hashtags\"\n                value={memeCaption}\n                onChange={setMemeCaption}\n                multiline\n                hint=\"Keep it short, punchy, and shareable!\"\n              />\n              \n              <div className=\"mt-4\">\n                <Button \n                  onClick={handleGenerateCaptions} \n                  loading={generatingCaptions}\n                  variant=\"secondary\"\n                  disabled={!hasApiKey()}\n                >\n                  âœ¨ Get AI Caption Ideas\n                </Button>\n                {!hasApiKey() && (\n                  <p className=\"text-xs text-[#6b7c74] mt-2\">Set your API key to use AI features</p>\n                )}\n              </div>\n              \n              {captionOptions.length > 0 && (\n                <div className=\"mt-4 space-y-2\">\n                  <div className=\"text-sm font-medium text-[#3d5a4c]\">AI Suggestions:</div>\n                  {captionOptions.map((option, i) => (\n                    <button\n                      key={i}\n                      onClick={() => setMemeCaption(option.caption)}\n                      className={`w-full p-3 rounded-lg border text-left transition-all ${\n                        memeCaption === option.caption \n                          ? 'border-[#48a89a] bg-[#48a89a]/10' \n                          : 'border-[#e2e0dc] hover:border-[#48a89a]'\n                      }`}\n                    >\n                      <span className=\"text-xs text-[#48a89a] font-medium\">{option.style}</span>\n                      <p className=\"text-[#3d5a4c]\">{option.caption}</p>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </Card>\n            \n            <Button \n              onClick={() => updateGamePhase(gameCode, 'image')}\n              disabled={!memeCaption}\n              size=\"lg\"\n            >\n              Next: Create Image â†’\n            </Button>\n          </div>\n        );\n      \n      case 'image':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 2: Create Your Image</h2>\n              <Timer seconds={600} paused={room?.isPaused} extension={room?.timerExtension} />\n            </div>\n            \n            <Card>\n              <div className=\"bg-[#f5f3ef] rounded-lg p-3 mb-4\">\n                <span className=\"text-[#6b7c74]\">Your caption: </span>\n                <span className=\"font-semibold text-[#3d5a4c]\">\"{memeCaption}\"</span>\n              </div>\n              \n              {memeImageUrl ? (\n                <div className=\"space-y-4\">\n                  <img src={memeImageUrl} alt=\"Your meme\" className=\"w-full rounded-lg\" />\n                  <Button variant=\"ghost\" onClick={() => setMemeImageUrl('')}>\n                    Try Different Image\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-3\">\n                    <h3 className=\"font-medium text-[#3d5a4c]\">ðŸ¤– Generate with AI</h3>\n                    <Button \n                      onClick={() => handleGenerateImage()}\n                      loading={generatingImage}\n                      disabled={!hasApiKey()}\n                      className=\"w-full\"\n                    >\n                      Generate Meme Image\n                    </Button>\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    <h3 className=\"font-medium text-[#3d5a4c]\">ðŸ“¤ Upload Your Own</h3>\n                    <ImageUploader onUpload={handleUploadImage} uploading={uploading} />\n                  </div>\n                </div>\n              )}\n            </Card>\n            \n            <div className=\"flex gap-4\">\n              <Button variant=\"ghost\" onClick={() => updateGamePhase(gameCode, 'caption')}>\n                â† Back to Caption\n              </Button>\n              <Button \n                onClick={() => updateGamePhase(gameCode, 'preview')}\n                disabled={!memeImageUrl}\n                size=\"lg\"\n              >\n                Preview Meme â†’\n              </Button>\n            </div>\n          </div>\n        );\n      \n      case 'preview':\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 3: Preview Your Meme</h2>\n            \n            <Card className=\"bg-gradient-to-br from-[#3d5a4c] to-[#48a89a] text-white\">\n              <div className=\"bg-white rounded-lg p-4\">\n                <img src={memeImageUrl} alt=\"Meme\" className=\"w-full rounded-lg mb-4\" />\n                <p className=\"text-lg font-bold text-[#3d5a4c]\">{memeCaption}</p>\n              </div>\n              <div className=\"flex justify-between items-center mt-4 text-white/80\">\n                <span>@{room?.players?.find(p => p.id === userId)?.name}</span>\n                <span>#{getCurrentIssue().replace(/\\s+/g, '')}</span>\n              </div>\n            </Card>\n            \n            <Alert type=\"info\">\n              Ready to see how effective your meme is? Get AI feedback on your creation!\n            </Alert>\n            \n            <div className=\"flex gap-4\">\n              <Button variant=\"ghost\" onClick={() => updateGamePhase(gameCode, 'image')}>\n                â† Edit Image\n              </Button>\n              <Button \n                onClick={() => { handleGetCritique(); updateGamePhase(gameCode, 'critique'); }}\n                size=\"lg\"\n              >\n                Get AI Critique â†’\n              </Button>\n            </div>\n          </div>\n        );\n      \n      case 'critique':\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 4: AI Critique</h2>\n            \n            {analyzing ? (\n              <Card className=\"text-center py-12\">\n                <div className=\"text-4xl animate-pulse mb-4\">ðŸ¤–</div>\n                <p className=\"text-[#6b7c74]\">AI is analyzing your meme...</p>\n              </Card>\n            ) : critique ? (\n              <>\n                <Card>\n                  <h3 className=\"font-semibold text-[#3d5a4c] mb-4\">ðŸ“Š Effectiveness Scores</h3>\n                  <ScoreBar scores={{\n                    'Message Clarity': critique.scores?.messageEffectiveness || 7,\n                    'Emotional Impact': critique.scores?.emotionalImpact || 7,\n                    'Shareability': critique.scores?.shareability || 7,\n                    'Visual Quality': critique.scores?.technicalQuality || 7,\n                    'Accessibility': critique.scores?.accessibility || 7,\n                  }} />\n                  <div className=\"mt-4 text-center\">\n                    <span className=\"text-3xl font-bold text-[#48a89a]\">{critique.scores?.overall || 7}/10</span>\n                    <span className=\"text-[#6b7c74] ml-2\">Overall Score</span>\n                  </div>\n                </Card>\n                \n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <Card className=\"bg-green-50\">\n                    <h3 className=\"font-semibold text-green-800 mb-2\">ðŸ’ª Strengths</h3>\n                    <ul className=\"space-y-1 text-sm text-green-700\">\n                      {(critique.strengths || []).map((s, i) => (\n                        <li key={i}>âœ“ {s}</li>\n                      ))}\n                    </ul>\n                  </Card>\n                  \n                  <Card className=\"bg-yellow-50\">\n                    <h3 className=\"font-semibold text-yellow-800 mb-2\">ðŸ”§ Improvements</h3>\n                    <ul className=\"space-y-1 text-sm text-yellow-700\">\n                      {(critique.improvements || []).map((s, i) => (\n                        <li key={i}>â€¢ {s}</li>\n                      ))}\n                    </ul>\n                  </Card>\n                </div>\n                \n                {critique.revisedCaption && critique.revisedCaption !== memeCaption && (\n                  <Card>\n                    <h3 className=\"font-semibold text-[#3d5a4c] mb-2\">ðŸ’¡ Suggested Caption</h3>\n                    <p className=\"text-[#6b7c74] italic mb-3\">\"{critique.revisedCaption}\"</p>\n                    <Button \n                      variant=\"secondary\" \n                      size=\"sm\"\n                      onClick={() => setEditedCaption(critique.revisedCaption)}\n                    >\n                      Use This Caption\n                    </Button>\n                  </Card>\n                )}\n              </>\n            ) : (\n              <Card className=\"text-center py-12\">\n                <Button onClick={handleGetCritique} loading={analyzing}>\n                  Get AI Critique\n                </Button>\n              </Card>\n            )}\n            \n            <div className=\"flex gap-4\">\n              <Button variant=\"ghost\" onClick={() => updateGamePhase(gameCode, 'preview')}>\n                â† Back to Preview\n              </Button>\n              <Button \n                onClick={() => { handleGetEditSuggestions(); updateGamePhase(gameCode, 'edit'); }}\n                size=\"lg\"\n                disabled={!critique}\n              >\n                Edit & Improve â†’\n              </Button>\n            </div>\n          </div>\n        );\n      \n      case 'edit':\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 5: Edit & Improve</h2>\n            \n            <Card>\n              <h3 className=\"font-semibold text-[#3d5a4c] mb-4\">âœï¸ Revise Your Caption</h3>\n              <Input \n                value={editedCaption || memeCaption}\n                onChange={setEditedCaption}\n                multiline\n                placeholder=\"Edit your caption...\"\n              />\n            </Card>\n            \n            {editSuggestions && (\n              <Card>\n                <h3 className=\"font-semibold text-[#3d5a4c] mb-4\">ðŸŽ¨ Image Suggestions</h3>\n                <div className=\"space-y-2\">\n                  {(editSuggestions.edits || []).map((edit, i) => (\n                    <div key={i} className=\"p-3 bg-[#f5f3ef] rounded-lg\">\n                      <span className=\"text-xs font-medium text-[#48a89a]\">{edit.type}</span>\n                      <p className=\"text-sm text-[#6b7c74]\">{edit.suggestion}</p>\n                    </div>\n                  ))}\n                </div>\n                \n                {editSuggestions.alternativeImagePrompt && (\n                  <div className=\"mt-4\">\n                    <Button \n                      onClick={() => handleGenerateImage(editSuggestions.alternativeImagePrompt, true)}\n                      loading={generatingImage}\n                      variant=\"secondary\"\n                    >\n                      ðŸ¤– Generate Improved Image\n                    </Button>\n                  </div>\n                )}\n              </Card>\n            )}\n            \n            {editedImageUrl && (\n              <Card>\n                <h3 className=\"font-semibold text-[#3d5a4c] mb-2\">New Image</h3>\n                <img src={editedImageUrl} alt=\"Edited meme\" className=\"w-full rounded-lg\" />\n              </Card>\n            )}\n            \n            <div className=\"flex gap-4\">\n              <Button variant=\"ghost\" onClick={() => updateGamePhase(gameCode, 'critique')}>\n                â† Back to Critique\n              </Button>\n              <Button \n                onClick={() => updateGamePhase(gameCode, 'finalize')}\n                size=\"lg\"\n              >\n                Finalize Meme â†’\n              </Button>\n            </div>\n          </div>\n        );\n      \n      case 'finalize':\n        const finalCaption = editedCaption || memeCaption;\n        const finalImage = editedImageUrl || memeImageUrl;\n        \n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-lg font-bold text-[#3d5a4c]\">Step 6: Final Review</h2>\n            \n            <Card className=\"bg-gradient-to-br from-[#3d5a4c] to-[#48a89a]\">\n              <div className=\"bg-white rounded-lg p-4\">\n                <img src={finalImage} alt=\"Final meme\" className=\"w-full rounded-lg mb-4\" />\n                <p className=\"text-lg font-bold text-[#3d5a4c]\">{finalCaption}</p>\n              </div>\n            </Card>\n            \n            {!isSubmitted ? (\n              <Button onClick={handleSubmitMeme} size=\"lg\" className=\"w-full\">\n                ðŸš€ Post Meme!\n              </Button>\n            ) : (\n              <Alert type=\"success\">\n                âœ“ Your meme has been submitted! Waiting for others to finish...\n              </Alert>\n            )}\n            \n            {isHost && (\n              <Button \n                onClick={() => updateGamePhase(gameCode, 'viral')}\n                variant=\"secondary\"\n                className=\"w-full\"\n              >\n                Start Viral Simulation â†’\n              </Button>\n            )}\n          </div>\n        );\n      \n      case 'viral':\n        const submissions = room?.submissions?.filter(s => s.type === 'meme') || [];\n        \n        return (\n          <div className=\"space-y-6\">\n            <Card>\n              <h2 className=\"text-xl font-bold text-[#3d5a4c] mb-4\">ðŸ“Š Watch Them Go Viral!</h2>\n              <p className=\"text-[#6b7c74] mb-4\">\n                React to memes to help them spread. Shares (ðŸ”„) have the biggest impact!\n              </p>\n              \n              <div className=\"space-y-6\">\n                {submissions.map((sub, i) => {\n                  const memeReactions = room?.reactions?.[sub.oderId] || {};\n                  const viralScore = calculateViralScore(memeReactions);\n                  \n                  return (\n                    <div key={i} className=\"border border-[#e2e0dc] rounded-xl overflow-hidden\">\n                      <div className=\"bg-[#f5f3ef] p-3 flex justify-between items-center\">\n                        <div>\n                          <span className=\"font-medium text-[#3d5a4c]\">@{sub.playerName}</span>\n                          <span className=\"text-sm text-[#6b7c74] ml-2\">#{sub.issue?.replace(/\\s+/g, '')}</span>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"text-2xl font-bold text-[#48a89a]\">{viralScore.toLocaleString()}</div>\n                          <div className=\"text-xs text-[#6b7c74]\">viral score</div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"p-4\">\n                        <img src={sub.imageUrl} alt=\"\" className=\"w-full rounded-lg mb-3\" />\n                        <p className=\"font-medium text-[#3d5a4c]\">{sub.caption}</p>\n                      </div>\n                      \n                      <div className=\"p-4 border-t border-[#e2e0dc]\">\n                        <ReactionBar \n                          reactions={memeReactions}\n                          onReact={(type) => handleReaction(sub.oderId, type)}\n                        />\n                      </div>\n                      \n                      <div className=\"px-4 pb-4\">\n                        <div className=\"h-3 bg-[#e2e0dc] rounded-full overflow-hidden\">\n                          <div \n                            className=\"h-full bg-gradient-to-r from-[#48a89a] to-[#3d5a4c] transition-all duration-500\"\n                            style={{ width: `${Math.min(100, viralScore / 50)}%` }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </Card>\n            \n            {isHost && (\n              <Button onClick={() => updateGamePhase(gameCode, 'results')} size=\"lg\">\n                Show Results â†’\n              </Button>\n            )}\n          </div>\n        );\n      \n      case 'results':\n        const allMemes = room?.submissions?.filter(s => s.type === 'meme') || [];\n        const sortedMemes = [...allMemes].sort((a, b) => {\n          const scoreA = calculateViralScore(room?.reactions?.[a.oderId] || {});\n          const scoreB = calculateViralScore(room?.reactions?.[b.oderId] || {});\n          return scoreB - scoreA;\n        });\n        const winner = sortedMemes[0];\n        \n        return (\n          <div className=\"space-y-6 text-center\">\n            <h2 className=\"text-3xl font-bold text-[#3d5a4c]\">ðŸ† Most Viral Meme!</h2>\n            \n            {winner && (\n              <Card>\n                <div className=\"bg-gradient-to-br from-[#d4a84b] to-[#c49a3a] rounded-lg p-1 mb-4\">\n                  <img src={winner.imageUrl} alt=\"\" className=\"w-full rounded-lg\" />\n                </div>\n                <p className=\"font-bold text-[#3d5a4c] text-lg\">{winner.caption}</p>\n                <p className=\"text-[#6b7c74]\">by {winner.playerName}</p>\n                <div className=\"text-3xl font-bold text-[#48a89a] mt-4\">\n                  {calculateViralScore(room?.reactions?.[winner.oderId] || {}).toLocaleString()} viral score\n                </div>\n              </Card>\n            )}\n            \n            <Badge \n              game=\"memeMachine\" \n              playerName={winner?.playerName || 'Winner'}\n              onExport={() => alert('Badge exported!')}\n            />\n            \n            <Card className=\"text-left\">\n              <h3 className=\"font-semibold text-[#3d5a4c] mb-3\">All Submissions</h3>\n              <div className=\"space-y-2\">\n                {sortedMemes.map((meme, i) => (\n                  <div key={i} className={`flex justify-between p-3 rounded-lg ${i === 0 ? 'bg-[#d4a84b]/20' : 'bg-[#f5f3ef]'}`}>\n                    <span>{i === 0 && 'ðŸ¥‡ '}{meme.playerName}</span>\n                    <span className=\"font-bold\">{calculateViralScore(room?.reactions?.[meme.oderId] || {}).toLocaleString()}</span>\n                  </div>\n                ))}\n              </div>\n            </Card>\n            \n            <Button onClick={onBack} variant=\"secondary\" size=\"lg\">\n              Back to Games\n            </Button>\n          </div>\n        );\n      \n      default:\n        return <div>Unknown phase: {room?.phase}</div>;\n    }\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-[#f5f3ef] p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <button onClick={onBack} className=\"text-[#6b7c74] hover:text-[#3d5a4c]\">\n            â† Back\n          </button>\n          <div className=\"flex items-center gap-4\">\n            {isHost && (\n              <Button variant=\"ghost\" size=\"sm\" onClick={onOpenDashboard}>\n                ðŸ“Š Dashboard\n              </Button>\n            )}\n            <div className=\"text-sm text-[#6b7c74]\">\n              Code: <span className=\"font-mono font-bold text-[#3d5a4c]\">{gameCode}</span>\n            </div>\n          </div>\n        </div>\n        \n        {renderPhase()}\n      </div>\n    </div>\n  );\n};\n\nexport default MemeMachine;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}